{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { CartContentContext, TotalAmountContext } from './cartContent.js';\nexport const passToCommaFormat = numberWithDot => {\n  const numberToArray = [...JSON.stringify(numberWithDot)];\n  const dotPosition = numberToArray.indexOf('.') === -1 ? numberToArray.length + 1 : numberToArray.indexOf('.');\n  const decimals = typeof numberToArray[dotPosition + 1] === 'undefined' ? '00' : numberToArray[dotPosition + 1] + '0';\n  const ints = Math.floor(numberWithDot);\n  return JSON.stringify(ints) + ',' + decimals;\n};\nexport const useResponsiveTools = () => {\n  _s();\n\n  const [itemsAreVisible, setItemsVisibility] = useState(false);\n\n  const hideItems = () => setItemsVisibility(!itemsAreVisible);\n\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  useEffect(() => {\n    const changeWindowWidth = () => setWindowWidth(window.innerWidth);\n\n    window.addEventListener('resize', changeWindowWidth);\n    return () => window.removeEventListener('resize', changeWindowWidth);\n  });\n  useEffect(() => {\n    windowWidth < 768 && setItemsVisibility(false);\n  }, [windowWidth]);\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\n  useEffect(() => {\n    const changeWindowHeight = () => setWindowHeight(window.innerHeight);\n\n    window.addEventListener('resize', changeWindowHeight);\n    return () => window.removeEventListener('resize', changeWindowHeight);\n  });\n  return {\n    hideItems,\n    itemsAreVisible,\n    windowWidth,\n    windowHeight\n  };\n};\n\n_s(useResponsiveTools, \"RQ80QIj3zWpHoB+8AReLDu1y8EQ=\");\n\nexport const useAmountHandlers = (ref, priceInt, priceDecimal) => {\n  _s2();\n\n  const productReference = JSON.parse(sessionStorage.getItem('cart-content'))[ref];\n  const [localAmount, getAmount] = useState(productReference);\n  const {\n    carterTotalAmount,\n    setTotalAmount\n  } = useContext(TotalAmountContext);\n  const {\n    cartContent,\n    setCartContent\n  } = useContext(CartContentContext);\n\n  const getLocalPrice = operation => {\n    const localPriceWithDot = Math.round((localAmount + operation) * Number(priceInt + '.' + priceDecimal) * 100) / 100;\n    return passToCommaFormat(localPriceWithDot);\n  };\n\n  const [localPrice, setLocalPrice] = useState(getLocalPrice(0));\n\n  const amountHandler = operation => {\n    getAmount(localAmount + operation);\n    setTotalAmount(carterTotalAmount + operation);\n    sessionStorage.setItem('cart-amount', carterTotalAmount + operation);\n    let editableContentObject = JSON.parse(JSON.stringify(cartContent));\n    editableContentObject[ref] = localAmount + operation;\n    setCartContent(editableContentObject);\n    sessionStorage.setItem('cart-content', JSON.stringify(editableContentObject));\n    setLocalPrice(getLocalPrice(operation));\n  };\n\n  const decreaseFunction = () => {\n    localAmount > 0 && amountHandler(-1);\n  };\n\n  const increaseFunction = () => {\n    amountHandler(1);\n  };\n\n  return {\n    localPrice,\n    decreaseFunction,\n    increaseFunction\n  };\n};\n\n_s2(useAmountHandlers, \"NZSWJ7YU7bu4yPTNdzDjYTf7j8A=\");","map":{"version":3,"sources":["C:/Users/User/Desktop/NicolÃ¡s/Web del negro/bicis-negro/client/src/elements/someFunctions.js"],"names":["useState","useEffect","useContext","CartContentContext","TotalAmountContext","passToCommaFormat","numberWithDot","numberToArray","JSON","stringify","dotPosition","indexOf","length","decimals","ints","Math","floor","useResponsiveTools","itemsAreVisible","setItemsVisibility","hideItems","windowWidth","setWindowWidth","window","innerWidth","changeWindowWidth","addEventListener","removeEventListener","windowHeight","setWindowHeight","innerHeight","changeWindowHeight","useAmountHandlers","ref","priceInt","priceDecimal","productReference","parse","sessionStorage","getItem","localAmount","getAmount","carterTotalAmount","setTotalAmount","cartContent","setCartContent","getLocalPrice","operation","localPriceWithDot","round","Number","localPrice","setLocalPrice","amountHandler","setItem","editableContentObject","decreaseFunction","increaseFunction"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { CartContentContext, TotalAmountContext } from './cartContent.js';\r\n\r\nexport const passToCommaFormat = (numberWithDot) => {\r\n    const numberToArray = [...JSON.stringify(numberWithDot)];\r\n    const dotPosition = numberToArray.indexOf('.') === -1 ?\r\n        numberToArray.length + 1 : numberToArray.indexOf('.');\r\n    const decimals = typeof numberToArray[dotPosition + 1] === 'undefined' ?\r\n        '00' : numberToArray[dotPosition + 1] + '0';\r\n    const ints = Math.floor(numberWithDot);\r\n    return JSON.stringify(ints) + ',' + decimals;\r\n}\r\n\r\nexport const useResponsiveTools = () => {\r\n    const [itemsAreVisible, setItemsVisibility] = useState(false);\r\n    const hideItems = () => setItemsVisibility(!itemsAreVisible);\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n    useEffect(() => {\r\n        const changeWindowWidth = () => setWindowWidth(window.innerWidth);\r\n        window.addEventListener('resize', changeWindowWidth);\r\n        return () => window.removeEventListener('resize', changeWindowWidth);\r\n    });\r\n    useEffect(() => {\r\n        windowWidth < 768 && setItemsVisibility(false);\r\n    }, [windowWidth]);\r\n    const [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n    useEffect(() => {\r\n        const changeWindowHeight = () => setWindowHeight(window.innerHeight);\r\n        window.addEventListener('resize', changeWindowHeight);\r\n        return () => window.removeEventListener('resize', changeWindowHeight);\r\n    })\r\n    return { hideItems, itemsAreVisible, windowWidth, windowHeight };\r\n}\r\n\r\n\r\n\r\nexport const useAmountHandlers = (ref, priceInt, priceDecimal) => {\r\n    const productReference = JSON.parse(\r\n        sessionStorage.getItem('cart-content'))[ref];\r\n    const [localAmount, getAmount] = useState(productReference);\r\n    const { carterTotalAmount, setTotalAmount } = useContext(TotalAmountContext);\r\n    const { cartContent, setCartContent } = useContext(CartContentContext);\r\n    const getLocalPrice = (operation) => {\r\n        const localPriceWithDot = Math.round((localAmount + operation) * Number(\r\n            priceInt + '.' + priceDecimal\r\n        ) * 100) / 100;\r\n        return passToCommaFormat(localPriceWithDot);\r\n    }\r\n    const [localPrice, setLocalPrice] = useState(getLocalPrice(0));\r\n    const amountHandler = (operation) => {\r\n        getAmount(localAmount + operation);\r\n        setTotalAmount(carterTotalAmount + operation);\r\n        sessionStorage.setItem('cart-amount', carterTotalAmount + operation);\r\n        let editableContentObject = JSON.parse(JSON.stringify(cartContent));\r\n        editableContentObject[ref] = localAmount + operation;\r\n        setCartContent(editableContentObject);\r\n        sessionStorage.setItem('cart-content', JSON.stringify(editableContentObject));\r\n        setLocalPrice(getLocalPrice(operation));\r\n    }\r\n    const decreaseFunction = () => {\r\n        localAmount > 0 && amountHandler(-1);\r\n    }\r\n    const increaseFunction = () => {\r\n        amountHandler(1);\r\n    }\r\n    return { localPrice, decreaseFunction, increaseFunction }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}